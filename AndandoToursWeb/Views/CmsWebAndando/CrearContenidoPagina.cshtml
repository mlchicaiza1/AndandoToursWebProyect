@model AndandoToursWeb.Models.ModelsCMS.CreateContenido

@{
    ViewData["Title"] = "CrearContenidoPagina";
}


<div class="content-wrapper">
    <section class="content">
        <div class="container">
            <h2>Crear Contenido Página</h2>
            <hr />
            <div class="row">
                <div class="col-md-12">
                    <form asp-controller="CmsWebAndando" asp-action="CrearContenidoPagina" 
                          data-ajax="true"  data-ajax-success="SuccessCreate" data-ajax-failure="FaildCreate" data-ajax-method="POST" enctype="multipart/form-data" method="post">

                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                        <div class="form-group row">
                            <label asp-for="NombreVista" class="control-label col-md-2">Name</label>

                            <input asp-for="NombreVista" class="form-control col-md-3" />

                            <div class="col-md-1"></div>

                            <label asp-for="UrlVista" class="control-label col-md-2">Url</label>
                            <input asp-for="UrlVista" class="form-control col-md-3" />

                        </div>

                        <div class="form-group row">
                            <label asp-for="Categoria" class="control-label col-md-2"></label>
                            <select asp-for="Categoria" class="col-md-3" onchange="callChangeCategoria(this.value)">
                                <option value="">Select</option>
                                <option value="galapagos-cruises">galapagos-cruises</option>
                                <option value="barco">barco</option>
                                <option value="ecuador-tours">ecuador-tours</option>
                                <option value="daily-tours">daily-tours</option>
                                <option value="blog">blog</option>
                            </select>
                            <br />
                            <div class="col-md-1"></div>
                            <label asp-for="Categoria" class="control-label col-md-2">Nueva Categoria</label>
                            <input asp-for="Categoria" class="form-control col-md-3" />

                        </div>
                        <div class="form-group row">
                            <label asp-for="TituloMeta" class="control-label col-md-2"></label>
                            <input asp-for="TituloMeta" class="form-control col-md-3" />
                            <div class="col-md-1"></div>
                            <label asp-for="DescripcionMeta" class="control-label col-md-2"></label>
                            <input asp-for="DescripcionMeta" class="form-control col-md-3" />
                        </div>

                        <div class="form-group row">
                            <label asp-for="NumeroTitulo" class="control-label col-md-2"></label>
                            <input asp-for="NumeroTitulo" id="NumeroTitulo" name="NumeroTitulo" class="form-control col-md-3" />
                            <div class="col-md-1"></div>
                            <label asp-for="NumeroImagenes" class="control-label col-md-2"></label>
                            <input asp-for="NumeroImagenes" id="NumeroImagenes" name="NumeroImagenes" class="form-control col-md-3" />
                        </div>
                        <br />
                        <div class="form-group row">
                            <input type="submit" value="Create" class="btn btn-default col-md-1" />
                            <div class="col-md-1"></div>
                            <a asp-action="Index" class="btn btn-danger col-md-1">Cancel</a>
                        </div>

                    </form>

                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
                        Add Cards
                    </button>

                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#Iitnerario">
                        Add itinerary
                    </button>

                </div>
            </div>

        </div>
    </section>
</div>
<partial name="_PartialViewCards" />
<partial name="_PartialViewItinerary" />
@section Scripts {
    <script src="~/lib/jquery-ajax-unobtrusive-master/dist/jquery.unobtrusive-ajax.min.js" ></script>
    <script>


        function callChangeCategoria(val) {

            switch (val) {
                case 'galapagos-cruises':
                    document.getElementById("NumeroTitulo").value = 8
                    document.getElementById("NumeroImagenes").value = 3
                    break;
                case 'barco':
                    document.getElementById("NumeroTitulo").value = 24
                    document.getElementById("NumeroImagenes").value = 32
                    break;
                case 'ecuador-tours':
                    document.getElementById("NumeroTitulo").value = 15
                    document.getElementById("NumeroImagenes").value = 30
                    break;
                case 'daily-tours':
                    document.getElementById("NumeroTitulo").value = 6
                    document.getElementById("NumeroImagenes").value = 7
                    break;
                case 'blog':
                    document.getElementById("NumeroTitulo").value = 8
                    document.getElementById("NumeroImagenes").value = 15
                    break;
                default:
                // code block
            }


        }

        //SuccessCreate = function (xhr) {
        //    console.log(xhr);
        //    alert('Status:'+ {xhr}, 'Status Text: {xhr.statusText}');
        //};

        function SuccessCreate(data) {
            console.log(data)

            document.getElementById("IdVistaItn").value = data
        }


        FaildCreate = function (xhr) {
            alert(`Status: {xhr.status}, Status Text: {xhr.statusText}`);
        };




    </script>

}


